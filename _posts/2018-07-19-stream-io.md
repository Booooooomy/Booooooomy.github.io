---
title: "Stream I/O"
date: 2018-07-19
header:
  image: "/images/C++ wallpaper.jpg"
exerpt: C++
---




## Intro to streams

In C++, iostream library allows you to input and output data using << and >> operators.
There are 3 kinds of objects in the <iostream> library - cin, cout, and cerr(outputs error messages).


istream and ostream are not classes in their own right. 
Rather, they are typedefs that represent character-based instantiations of the basic_istream and basic_ostream template classes respectively.  
both cin and cout(not sure about cerr) use namespace std. So the basic form is like std::cin and std::cout. There is also a newline operator, std:: endl.


## Inputting and outputting strings

Even string needs to be used with namespace std; so if we don't include using namespace std; at the very top, we gotta use std::string all the time.
We can use cout as it was before, but if the string that we want to input includes any whitespace character(spacebar) in it, we should use the **std::getline()** function instead.
This function takes 2 parameters:  

- The input stream, from which we want to get the input
- The std::string object, into which you want to store the value

So for example, the code can be like this:

```c++
    std::string name;
    std::cout << "Full name: ";
    std::getline(std::cin, name);
    
    std::string address;
    std::cout << "Full address: ";
    std::getline(std::cin, address);
    
    std::cout 
        << name << std::endl
        << address << std::endl;
```


## Extending streams to support custom classes

The i/ostream classes do not have any inherent support for our own custom classes.
We can easily define custom operator >> and << to support stream input/output for custom classes.

Let's say we want to extend stream classes to support pointers.

First make a class point.

```c++
    class point
    {
    public:
        int x, y;
    
        // Plus other members, as appropriate.
    };
 ```
 
 Given this class, define a custom operator >> function as follows:
 
 ```c++
     std::istream & operator >> (std::istream & is, point & p)
    {
        is >> p.x >> p.y;
        return is;
    }
 ```
 
 The function must receive 2 parameters - first one being a std::istream reference and second one being a point reference.
 
 In a similar way, let's define a custom operator << function.
 
 ```c++
     std::ostream & operator << (std::ostream & os, const point & p)
    {
        os << "[" << p.x << "," << p.y << "]";
        return os;
    }
 ```
 
 All conditions same as >> one. Inside the function, we use the ostream and format it [x, y].
 
 ```c++
     std::cout
    << "Here are your points..." << std::endl
    << p1 << std::endl
    << p2 << std::endl;
 ```
 
 
 ## Manipulators...
